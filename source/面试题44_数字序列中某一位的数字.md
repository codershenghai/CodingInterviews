# 题目描述

数字以0123456789101112131415…的格式序列化到一个字符序列中。在这个序列中，第5位（从下标0开始计数）是5，第13位是1，第19位是4，等等。

请写一个函数，求任意第n位对应的数字。

# 题解

这道题有特别多的边界条件，要特别小心，调了好久才调出来。对于第n位的数字，我们首先找到这位数字对应的数是几位数，然后确定这个数的数值，最后确定返回值是这个数值中的哪一个数字。

举个例子，如果要找到序列中1001位的数字。通过观察我们可以发现一些规律，序列的前10位是只有一位的数字，即0-9。接下来的180位是90个两位数，即10-99。再接下来的2700位是900个三位数，即100-999。再接下来的36000位是9000个四位数，即1000-9999......以此类推。根据这个规律可以确定1001是三位数，此时n就是以100位起点开始的位数。然后确定这个数的数值，最后确定数值value中的那个数字。

```java
public int findNthDigit(int n) {
    // 找到序列中第n位的数字是几位数，存入digits中
    long base = 9;
    byte digits = 1;
    while (n - base * digits > 0) {
        n -= base * digits;
        base *= 10;
        digits++;
    }
    // 此时n是以digits位数为起点开始的位数，然后确定这个数的数值
    int value = 1;
    for (int i = 1; i < digits; i++)
        value *= 10;
    value += n%digits==0 ? n/digits-1 : n/digits;

    // 确定数值value中的那个数字
    int idx = n % digits;
    if (idx == 0) return value % 10;
    for (int i = idx; i < digits; i++)
        value /= 10;
    return value % 10;
}
```