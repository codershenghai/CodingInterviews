# 题目描述

请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。例如，字符串"+100"、"5e2"、"-123"、"3.1416"、"0123"及"-1E-16"都表示数值，但"12e"、"1a3.14"、"1.2.3"、"+-5"及"12e+5.4"都不是。

# 题解

将字符串分为三个部分，A是一开始数值的整数部分，B是小数点后的小数部分，C是指数e或E后面的数值部分。由题意，A和B至少要存在一个，当e和E出现时，C就一定要存在。且A和C部分都可以有正负号，但B部分不能有。设置全局变量index，用于表示扫描字符串时的索引。按顺序一次扫描字符串，一开始扫描A，遇到小数点后扫描B，遇到e或E后扫描C。

有两处细节：

1. 使用辅助函数scanInteger扫描数值，当signed为true时扫描正负号，sign为false时不扫描正负号。
2. 如果存在指数e或E，但是没有C，就直接返回false。

```java
int index = 0;
public boolean isNumber(String s) {
    s = s.trim();
    if (s.length() == 0)
        return false;
    boolean A = scanInteger(s, true), B = false, C;
    if (index < s.length() && s.charAt(index) == '.') {
        index++;
        B = scanInteger(s, false);
    }
    if (index < s.length() && (s.charAt(index) == 'e' || s.charAt(index) == 'E')) {
        index++;
        C = scanInteger(s, true);
        //
        if (!C) return false;
    }
    return (A || B) && index == s.length();
}

private boolean scanInteger(String s, boolean signed) {
    if (signed && index < s.length() && (s.charAt(index) == '+' || s.charAt(index) == '-'))
        index++;
    int start = index;
    while (index < s.length() && s.charAt(index) >= '0' && s.charAt(index) <= '9')
        index++;
    return index > start;
}
```