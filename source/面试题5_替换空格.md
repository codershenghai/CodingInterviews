# 题目描述

请实现一个函数，把字符串 s 中的每个空格替换成"%20"。

示例：

```
输入：s = "We are happy."
输出："We%20are%20happy."
```

# 题解一

从前往后插入。从头到尾扫描字符串，每次碰到空格字符的时候进行替换。

时间复杂度为$O(n^2)$，空间复杂度为$O(1)$。

```java
public String replaceSpace(String s) {
    StringBuilder builder = new StringBuilder(s);
    for (int i = 0; i < builder.length(); i++) {
        if (builder.charAt(i) == ' ')
            builder.replace(i, i+1, "%20");
    }
    return builder.toString();
}
```

# 题解二

从后往前插入。先遍历一次字符串统计空格数，计算出替换空格后字符串的总长度。给字符串分配新的长度，然后从字符串的最后开始替换。

时间复杂度为$O(n)$，空间复杂度为$O(1)$。

```java
public String replaceSpace(String s) {
    StringBuilder builder = new StringBuilder(s);

    // 先遍历一次字符串统计空格数
    int spaceNum = 0, oldLength = builder.length();
    for (int i = 0; i < oldLength; i++) {
        if (builder.charAt(i) == ' ')
            spaceNum++;
    }

    // 给字符串分配新的长度
    int newLength = oldLength + spaceNum * 2;
    builder.setLength(newLength);
    int left = oldLength-1, right = newLength-1;

    // 从字符串的后面开始复制和替换
    while (left < right) {
        if (builder.charAt(left) != ' ') {
            builder.setCharAt(right, builder.charAt(left));
            left--;
            right--;
        } else {
            left--;
            builder.setCharAt(right--, '0');
            builder.setCharAt(right--, '2');
            builder.setCharAt(right--, '%');
        }
    }
    return builder.toString();
}
```