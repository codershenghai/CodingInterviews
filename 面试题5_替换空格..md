# 题目描述

请实现一个函数，将一个字符串中的每个空格替换成“%20”。例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy。

# 解法一

从前往后插入。从头到尾扫描字符串，每次碰到空格字符的时候进行替换。

时间复杂度为O(n^2)，空间复杂度为O(1)。

```java
public String replaceSpace(StringBuffer str) {
    for (int i = 0; i < str.length(); i++) {
        if (str.charAt(i) == ' ')
            str.replace(i, i+1, "%20");
    }
    return str.toString();
}
```

# 解法二

从后往前插入。先遍历一次字符串统计空格数，计算出替换空格后字符串的总长度。给字符串分配新的长度，然后从字符串的最后开始替换。

时间复杂度为O(n)，空间复杂度为O(1)。

```java
public String replaceSpace(StringBuffer str) {
    int spaceNum = 0, oldLength = str.length();
    for (int i = 0; i < oldLength; i++) {
        if (str.charAt(i) == ' ')
            spaceNum++;
    }

    int newLength = oldLength + spaceNum * 2;
    str.setLength(newLength);
    int left = oldLength-1, right = newLength-1;

    while (left < right) {
        if (str.charAt(left) != ' ') {
            str.setCharAt(right, str.charAt(left));
            left--;
            right--;
        } else {
            left--;
            str.setCharAt(right--, '0');
            str.setCharAt(right--, '2');
            str.setCharAt(right--, '%');
        }
    }
    return str.toString();
}
```